<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Google</title>
    <link rel="icon" href="https://www.google.com/favicon.ico">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #fff; }
        #mask { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: url('mask.png') no-repeat center center; 
            background-size: cover; z-index: 9999; pointer-events: none; 
        }
    </style>
</head>
<body>
    <div id="mask"></div>

    <script>
        let input = "";
        const secret = "arcade"; 

        window.addEventListener('keydown', (e) => {
            input += e.key;
            if (input.includes(secret)) {
                // 1. Create the Ghost Tab (about:blank)
                const ghost = window.open('about:blank', '_blank');
                
                // 2. Cloak the tab as a Google Doc
                ghost.document.title = "Google Docs";
                const icon = ghost.document.createElement('link');
                icon.rel = 'icon'; 
                icon.href = 'https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico';
                ghost.document.head.appendChild(icon);

                // 3. Inject the Dashboard
                const frame = ghost.document.createElement('iframe');
                // This path is now dynamic to prevent 404s
                const repo = window.location.pathname.split('/')[1];
                frame.src = `/${repo}/src/dashboard.html`;
                
                frame.style = "position:fixed; top:0; left:0; width:100%; height:100%; border:none;";
                ghost.document.body.appendChild(frame);
                ghost.document.body.style.margin = "0";
                
                input = ""; // Reset
            }
        });

        // TAB STOPPER: Prevents GoGuardian from closing the tab easily
        window.onbeforeunload = function() {
            return "System busy. Do not close.";
        };
    </script>
</body>
</html>